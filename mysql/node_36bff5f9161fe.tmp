var connection = require('../mysql/dbconnection');

function getSubmissions(){
  return new Promise(function(resolve, reject){
    var returnValue;
    connection.query('SELECT * FROM submissions', function (error, results, fields) {
      if (error){
        reject(error);
      } 
      returnValue = results;
      resolve(returnValue);
    });
  });
}

function postNewUndskyldning(foreslag, navn){
  return new Promise(function(resolve, reject){
    var returnValue;
    connection.query(`INSERT INTO submissions (foreslag, navn) VALUES ("hej","hej")`, function (error, results, fields) {
      if (error){
        reject(error);
      } 
      resolve("ok");
    });
  });
}

async function lort(){
  await postNewUndskyldning("skyyt", "nej");
  console.log(bingo);
}

lort();

module.exports = {
  getSubmissions,
  postNewUndskyldning
}